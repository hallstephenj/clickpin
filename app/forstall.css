/* ==========================================================================
   FORSTALL MODE - Skeuomorphic Design System
   Inspired by pre-iOS7, Scott Forstall-era Apple design

   Era: Pre-flat, pre-iOS7, early 2010s, original iPad era
   Philosophy: Opinionated, confident, authoritative, designed not decorated
   Materiality: Skeuomorphic, tactile, physical, material-rich
   ========================================================================== */

/* --------------------------------------------------------------------------
   CSS Custom Properties - Skeuomorphic Palette
   -------------------------------------------------------------------------- */
:root.forstall-mode {
  /* Leather & Wood */
  --leather-brown: #5c3d2e;
  --leather-dark: #3d2517;
  --leather-stitch: #c9a86c;
  --wood-light: #d4a574;
  --wood-medium: #8b5a2b;
  --wood-dark: #4a3728;
  --wood-grain: url("data:image/svg+xml,%3Csvg viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.05'/%3E%3C/svg%3E");

  /* Metal */
  --metal-light: #e8e8e8;
  --metal-medium: #c0c0c0;
  --metal-dark: #808080;
  --metal-shine: linear-gradient(180deg, #ffffff 0%, #e0e0e0 50%, #b0b0b0 100%);
  --brushed-metal: linear-gradient(135deg, #d4d4d4 0%, #a8a8a8 25%, #c8c8c8 50%, #b0b0b0 75%, #d0d0d0 100%);

  /* Cork & Paper */
  --cork-light: #d4b896;
  --cork-medium: #c4a882;
  --cork-dark: #a08060;
  --paper-cream: #f5f0e6;
  --paper-white: #fdfbf7;
  --paper-aged: #e8e0d0;
  --paper-shadow: rgba(0, 0, 0, 0.15);

  /* Felt & Fabric */
  --felt-green: #2d5a3d;
  --felt-dark: #1a3a28;

  /* Bitcoin Gold */
  --bitcoin-gold: #f7931a;
  --bitcoin-dark: #c77813;
  --bitcoin-light: #ffb84d;
  --coin-shine: linear-gradient(135deg, #ffd700 0%, #f7931a 30%, #c77813 70%, #8b5a00 100%);
  --coin-edge: #8b6914;

  /* Shadows & Depth */
  --shadow-soft: 0 2px 8px rgba(0, 0, 0, 0.2);
  --shadow-medium: 0 4px 12px rgba(0, 0, 0, 0.25);
  --shadow-hard: 0 6px 20px rgba(0, 0, 0, 0.35);
  --shadow-inset: inset 0 2px 4px rgba(0, 0, 0, 0.2);
  --shadow-emboss: inset 0 1px 0 rgba(255, 255, 255, 0.3), inset 0 -1px 0 rgba(0, 0, 0, 0.1);

  /* Text */
  --text-emboss: #1a1a1a;
  --text-light: #f5f0e6;
  --text-muted: #6b5b4f;

  /* Warm Lighting */
  --warm-overlay: rgba(255, 248, 230, 0.05);
  --warm-highlight: rgba(255, 220, 180, 0.15);
}

/* --------------------------------------------------------------------------
   Base Styles - Cork Pinboard Background
   -------------------------------------------------------------------------- */
.forstall-mode body {
  background:
    /* Cork texture overlay */
    url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='cork'%3E%3CfeTurbulence type='turbulence' baseFrequency='0.05' numOctaves='5' seed='15' stitchTiles='stitch'/%3E%3CfeColorMatrix type='saturate' values='0'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23cork)' opacity='0.15'/%3E%3C/svg%3E"),
    /* Base cork gradient */
    linear-gradient(180deg, #d4b896 0%, #c4a882 50%, #b89870 100%);
  background-attachment: fixed;
  font-family: 'Georgia', 'Times New Roman', serif;
  color: var(--text-emboss);
  -webkit-font-smoothing: antialiased;
}

/* Dark mode cork - darker, richer */
.forstall-mode.dark body,
.forstall-mode body.dark {
  background:
    url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='cork'%3E%3CfeTurbulence type='turbulence' baseFrequency='0.05' numOctaves='5' seed='15' stitchTiles='stitch'/%3E%3CfeColorMatrix type='saturate' values='0'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23cork)' opacity='0.1'/%3E%3C/svg%3E"),
    linear-gradient(180deg, #3d2a1a 0%, #2d1a0a 50%, #1d0a00 100%);
}

/* --------------------------------------------------------------------------
   Typography - Engraved & Embossed
   -------------------------------------------------------------------------- */
.forstall-mode h1,
.forstall-mode h2,
.forstall-mode h3 {
  font-family: 'Georgia', serif;
  font-weight: 700;
  text-shadow:
    0 1px 0 rgba(255, 255, 255, 0.4),
    0 -1px 0 rgba(0, 0, 0, 0.2);
  letter-spacing: -0.02em;
}

.forstall-mode .font-mono {
  font-family: 'Courier New', 'Courier', monospace;
  font-weight: 600;
}

/* Engraved text effect */
.forstall-mode .text-engraved {
  color: #4a3728;
  text-shadow:
    0 1px 1px rgba(255, 255, 255, 0.5),
    0 -1px 1px rgba(0, 0, 0, 0.3);
}

/* --------------------------------------------------------------------------
   Leather Header Bar
   -------------------------------------------------------------------------- */
.forstall-mode header {
  background:
    /* Leather grain */
    url("data:image/svg+xml,%3Csvg viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='leather'%3E%3CfeTurbulence type='turbulence' baseFrequency='0.4' numOctaves='4'/%3E%3CfeColorMatrix type='saturate' values='0'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23leather)' opacity='0.08'/%3E%3C/svg%3E"),
    linear-gradient(180deg, #6b4c3a 0%, #5c3d2e 20%, #4d2e20 80%, #3d2517 100%);
  border-bottom: 3px solid #2a1810;
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.1),
    0 4px 12px rgba(0, 0, 0, 0.4);
  position: relative;
}

/* Stitching effect */
.forstall-mode header::before {
  content: '';
  position: absolute;
  top: 8px;
  left: 12px;
  right: 12px;
  height: 1px;
  background: repeating-linear-gradient(
    90deg,
    transparent 0px,
    transparent 4px,
    #c9a86c 4px,
    #c9a86c 12px,
    transparent 12px,
    transparent 16px
  );
  opacity: 0.6;
}

.forstall-mode header::after {
  content: '';
  position: absolute;
  bottom: 8px;
  left: 12px;
  right: 12px;
  height: 1px;
  background: repeating-linear-gradient(
    90deg,
    transparent 0px,
    transparent 4px,
    #c9a86c 4px,
    #c9a86c 12px,
    transparent 12px,
    transparent 16px
  );
  opacity: 0.6;
}

.forstall-mode header h1,
.forstall-mode header .text-lg {
  color: #f5f0e6;
  text-shadow:
    0 -1px 0 rgba(0, 0, 0, 0.5),
    0 1px 2px rgba(0, 0, 0, 0.3);
}

/* --------------------------------------------------------------------------
   Buttons - Brushed Metal with Emboss
   -------------------------------------------------------------------------- */
.forstall-mode .btn {
  background: var(--brushed-metal);
  border: 1px solid #888;
  border-radius: 6px;
  box-shadow:
    var(--shadow-emboss),
    0 2px 4px rgba(0, 0, 0, 0.2),
    0 1px 0 rgba(255, 255, 255, 0.5) inset;
  color: #333;
  font-family: 'Helvetica Neue', 'Helvetica', sans-serif;
  font-weight: 600;
  text-shadow: 0 1px 0 rgba(255, 255, 255, 0.7);
  padding: 8px 16px;
  cursor: pointer;
  transition: all 0.1s ease;
  position: relative;
  overflow: hidden;
}

.forstall-mode .btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 50%;
  background: linear-gradient(180deg, rgba(255,255,255,0.3) 0%, rgba(255,255,255,0) 100%);
  pointer-events: none;
}

.forstall-mode .btn:hover {
  background: linear-gradient(180deg, #e8e8e8 0%, #d0d0d0 50%, #c0c0c0 100%);
}

.forstall-mode .btn:active {
  box-shadow:
    inset 0 2px 4px rgba(0, 0, 0, 0.3),
    0 1px 0 rgba(255, 255, 255, 0.3);
  transform: translateY(1px);
}

/* Primary Button - Bitcoin Gold */
.forstall-mode .btn-primary {
  background: linear-gradient(180deg, #ffcc4d 0%, #f7931a 30%, #e07d00 70%, #c66a00 100%);
  border: 1px solid #8b5a00;
  color: #fff;
  text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.4);
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.4),
    inset 0 -1px 0 rgba(0, 0, 0, 0.2),
    0 2px 6px rgba(0, 0, 0, 0.3);
}

.forstall-mode .btn-primary:hover {
  background: linear-gradient(180deg, #ffd866 0%, #ffa033 30%, #e88a00 70%, #d67700 100%);
}

.forstall-mode .btn-primary:active {
  background: linear-gradient(180deg, #d67700 0%, #c66a00 50%, #b55d00 100%);
}

/* --------------------------------------------------------------------------
   Cards / Pins - Paper Notes with Push Pins
   -------------------------------------------------------------------------- */
/* Note cards - paper style */
.forstall-mode .paperweight-pin,
.forstall-mode article.border,
.forstall-mode div.border.rounded-lg,
.forstall-mode [data-note-card] {
  background:
    /* Paper texture */
    url("data:image/svg+xml,%3Csvg viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='paper'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4'/%3E%3CfeColorMatrix type='saturate' values='0'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23paper)' opacity='0.03'/%3E%3C/svg%3E"),
    linear-gradient(180deg, #fdfbf7 0%, #f5f0e6 100%) !important;
  border: 1px solid #c4a882 !important;
  border-radius: 2px;
  box-shadow:
    /* Paper edge shadow */
    2px 2px 8px rgba(0, 0, 0, 0.2),
    -1px -1px 0 rgba(255, 255, 255, 0.5),
    /* Slight curl effect */
    inset 0 0 20px rgba(0, 0, 0, 0.02);
  position: relative;
  color: #333 !important;
}

/* Note card text */
.forstall-mode .paperweight-pin p,
.forstall-mode article.border p,
.forstall-mode div.border.rounded-lg p {
  color: #333 !important;
}

.forstall-mode .paperweight-pin .text-xs,
.forstall-mode article.border .text-xs,
.forstall-mode div.border.rounded-lg .text-xs {
  color: #6b5b4f !important;
}

/* Push pin - only on elements specifically marked */
.forstall-mode [data-pushpin]::before {
  content: '';
  position: absolute;
  top: -8px;
  left: 50%;
  transform: translateX(-50%);
  width: 24px;
  height: 24px;
  background:
    radial-gradient(circle at 30% 30%, #ff6b6b 0%, #cc4444 50%, #992222 100%);
  border-radius: 50%;
  box-shadow:
    inset -2px -2px 4px rgba(0, 0, 0, 0.3),
    inset 2px 2px 4px rgba(255, 255, 255, 0.3),
    0 3px 6px rgba(0, 0, 0, 0.4);
  z-index: 10;
}

/* Pin needle */
.forstall-mode [data-pushpin]::after {
  content: '';
  position: absolute;
  top: 12px;
  left: 50%;
  transform: translateX(-50%);
  width: 3px;
  height: 8px;
  background: linear-gradient(180deg, #888 0%, #666 100%);
  border-radius: 0 0 2px 2px;
  z-index: 9;
}

/* --------------------------------------------------------------------------
   Form Inputs - Inset Fields
   -------------------------------------------------------------------------- */
.forstall-mode input[type="text"],
.forstall-mode input[type="email"],
.forstall-mode input[type="number"],
.forstall-mode input[type="url"],
.forstall-mode textarea,
.forstall-mode select {
  background:
    linear-gradient(180deg, #e8e4dc 0%, #f5f0e6 4px, #fdfbf7 100%);
  border: 1px solid #a09080;
  border-radius: 4px;
  box-shadow:
    inset 0 2px 4px rgba(0, 0, 0, 0.15),
    inset 0 1px 2px rgba(0, 0, 0, 0.1),
    0 1px 0 rgba(255, 255, 255, 0.5);
  padding: 10px 12px;
  font-family: 'Georgia', serif;
  color: #333;
}

.forstall-mode input:focus,
.forstall-mode textarea:focus,
.forstall-mode select:focus {
  outline: none;
  border-color: var(--bitcoin-gold);
  box-shadow:
    inset 0 2px 4px rgba(0, 0, 0, 0.15),
    0 0 0 3px rgba(247, 147, 26, 0.3);
}

/* --------------------------------------------------------------------------
   Modals - Wooden Frame
   -------------------------------------------------------------------------- */
/* Modal backdrop - ensure proper dark overlay */
.forstall-mode [data-modal-backdrop],
.forstall-mode .bg-black\/60 {
  background: rgba(0, 0, 0, 0.7) !important;
}

/* Modal content wrapper - paper background with wood frame */
.forstall-mode [data-modal-content],
.forstall-mode .fixed.inset-0.flex > div.bg-white,
.forstall-mode .fixed.inset-0.flex > div.bg-\[var\(--bg\)\],
.forstall-mode .fixed.inset-0 > div.flex > div.bg-white,
.forstall-mode .fixed.inset-0 > div.flex > div.bg-\[var\(--bg\)\] {
  background:
    url("data:image/svg+xml,%3Csvg viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='wood'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.02 0.15' numOctaves='3'/%3E%3CfeColorMatrix type='saturate' values='0'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23wood)' opacity='0.1'/%3E%3C/svg%3E"),
    linear-gradient(180deg, #f5f0e6 0%, #ebe5d8 100%) !important;
  border: 8px solid #6b4423 !important;
  border-radius: 4px !important;
  box-shadow:
    inset 0 0 0 2px rgba(255, 255, 255, 0.2),
    0 8px 32px rgba(0, 0, 0, 0.5),
    0 2px 8px rgba(0, 0, 0, 0.3) !important;
  color: #333 !important;
}

/* Modal text colors */
.forstall-mode [data-modal-content] *,
.forstall-mode .fixed.inset-0.flex > div.bg-white *,
.forstall-mode .fixed.inset-0 > div.flex > div.bg-white * {
  color: inherit;
}

.forstall-mode [data-modal-content] h1,
.forstall-mode [data-modal-content] h2,
.forstall-mode [data-modal-content] h3,
.forstall-mode .fixed.inset-0 h1,
.forstall-mode .fixed.inset-0 h2,
.forstall-mode .fixed.inset-0 h3 {
  color: #2d1810 !important;
}

/* --------------------------------------------------------------------------
   Bitcoin Elements - Coin Aesthetic
   -------------------------------------------------------------------------- */
.forstall-mode .text-\[\#f7931a\],
.forstall-mode .text-accent {
  color: var(--bitcoin-gold) !important;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}

.forstall-mode .bg-\[\#f7931a\]\/10,
.forstall-mode .border-\[\#f7931a\] {
  background: linear-gradient(135deg, rgba(255, 215, 0, 0.15) 0%, rgba(247, 147, 26, 0.2) 100%) !important;
  border: 2px solid var(--bitcoin-gold) !important;
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.3),
    0 2px 4px rgba(0, 0, 0, 0.2);
}

/* Bitcoin badge - coin style */
.forstall-mode .inline-flex.items-center.gap-1.text-xs.px-1\.5.py-0\.5.bg-\[\#f7931a\]\/10 {
  background: var(--coin-shine) !important;
  border: 2px solid var(--coin-edge) !important;
  border-radius: 12px;
  box-shadow:
    inset 0 2px 4px rgba(255, 255, 255, 0.4),
    inset 0 -2px 4px rgba(0, 0, 0, 0.2),
    0 2px 4px rgba(0, 0, 0, 0.3);
  color: #fff !important;
  text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.4);
  padding: 4px 10px;
}

/* Links styling moved to Utility Overrides section for better specificity */

/* --------------------------------------------------------------------------
   Seed Badge Styles - Wax Seal Effect
   -------------------------------------------------------------------------- */
.forstall-mode .paperweight-badge {
  background: radial-gradient(circle at 30% 30%, #8b2323 0%, #6b1a1a 50%, #4a1010 100%);
  border-radius: 50%;
  padding: 6px 12px;
  box-shadow:
    inset -2px -2px 6px rgba(0, 0, 0, 0.4),
    inset 2px 2px 6px rgba(255, 255, 255, 0.2),
    0 3px 8px rgba(0, 0, 0, 0.4);
  color: #f5e6d3 !important;
  font-family: 'Georgia', serif;
  font-style: italic;
  text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.5);
  transform: rotate(-5deg);
}

.forstall-mode .paperweight-badge-seed-positive {
  background: radial-gradient(circle at 30% 30%, #2d5a2d 0%, #1a4a1a 50%, #0a3a0a 100%);
}

.forstall-mode .paperweight-badge-seed-negative {
  background: radial-gradient(circle at 30% 30%, #8b2323 0%, #6b1a1a 50%, #4a1010 100%);
}

.forstall-mode .paperweight-badge-seed-neutral {
  background: radial-gradient(circle at 30% 30%, #5a5a2d 0%, #4a4a1a 50%, #3a3a0a 100%);
}

/* --------------------------------------------------------------------------
   QR Codes - Photo Frame Effect (for rounded QR containers)
   -------------------------------------------------------------------------- */
.forstall-mode .bg-white.rounded:not(.rounded-full) {
  background: #fff !important;
  border: 4px solid #8b5a2b;
  box-shadow:
    inset 0 0 0 1px rgba(0, 0, 0, 0.1),
    0 4px 12px rgba(0, 0, 0, 0.3);
}

/* --------------------------------------------------------------------------
   Loading States - Vintage Spinner
   -------------------------------------------------------------------------- */
.forstall-mode .loading-dots .dot {
  background: var(--bitcoin-gold);
  box-shadow: 0 0 8px rgba(247, 147, 26, 0.5);
}

/* --------------------------------------------------------------------------
   Footer - Felt Lined
   -------------------------------------------------------------------------- */
.forstall-mode footer {
  background:
    url("data:image/svg+xml,%3Csvg viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='felt'%3E%3CfeTurbulence type='turbulence' baseFrequency='0.6' numOctaves='4'/%3E%3CfeColorMatrix type='saturate' values='0'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23felt)' opacity='0.1'/%3E%3C/svg%3E"),
    linear-gradient(180deg, #2d5a3d 0%, #1a3a28 100%);
  border-top: 3px solid #0a2a18;
  box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.3);
  padding: 24px !important;
}

.forstall-mode footer a {
  color: #a8c8a8 !important;
  border-bottom: none;
}

.forstall-mode footer a:hover {
  color: #d8f0d8 !important;
}

/* --------------------------------------------------------------------------
   Tabs - Leather Dividers
   -------------------------------------------------------------------------- */
.forstall-mode [role="tablist"] button {
  background: linear-gradient(180deg, #6b4c3a 0%, #5c3d2e 50%, #4d2e20 100%);
  border: 1px solid #3d2517;
  color: #d4c4b4 !important;
  text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.5);
  border-radius: 6px 6px 0 0;
  margin-bottom: -1px;
  padding: 10px 20px;
}

.forstall-mode [role="tablist"] button[aria-selected="true"],
.forstall-mode [role="tablist"] button.active {
  background: linear-gradient(180deg, #f5f0e6 0%, #ebe5d8 100%);
  border-bottom-color: transparent;
  color: #4a3728 !important;
  text-shadow: 0 1px 0 rgba(255, 255, 255, 0.5);
}

/* --------------------------------------------------------------------------
   Radio & Checkbox - Toggle Switches
   -------------------------------------------------------------------------- */
.forstall-mode input[type="radio"],
.forstall-mode input[type="checkbox"] {
  appearance: none;
  width: 20px !important;
  height: 20px !important;
  background: linear-gradient(180deg, #e0dcd4 0%, #c8c4bc 100%);
  border: 2px solid #888;
  border-radius: 4px;
  box-shadow:
    inset 0 2px 4px rgba(0, 0, 0, 0.2),
    0 1px 0 rgba(255, 255, 255, 0.5);
  cursor: pointer;
  position: relative;
}

.forstall-mode input[type="radio"] {
  border-radius: 50%;
}

.forstall-mode input[type="radio"]:checked,
.forstall-mode input[type="checkbox"]:checked {
  background: linear-gradient(180deg, #f7931a 0%, #e07d00 100%);
  border-color: #8b5a00;
}

.forstall-mode input[type="checkbox"]:checked::after {
  content: '\\2713';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  color: #fff;
  font-size: 14px;
  font-weight: bold;
  text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.3);
}

.forstall-mode input[type="radio"]:checked::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 8px;
  height: 8px;
  background: #fff;
  border-radius: 50%;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}

/* --------------------------------------------------------------------------
   Scrollbars - Wooden Handles
   -------------------------------------------------------------------------- */
.forstall-mode ::-webkit-scrollbar {
  width: 14px;
  height: 14px;
}

.forstall-mode ::-webkit-scrollbar-track {
  background: linear-gradient(90deg, #c4a882 0%, #d4b896 50%, #c4a882 100%);
  border: 1px solid #a08060;
}

.forstall-mode ::-webkit-scrollbar-thumb {
  background: linear-gradient(90deg, #8b5a2b 0%, #6b4423 50%, #8b5a2b 100%);
  border: 2px solid #4a3218;
  border-radius: 4px;
  box-shadow: inset 0 0 4px rgba(255, 255, 255, 0.2);
}

.forstall-mode ::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(90deg, #9b6a3b 0%, #7b5433 50%, #9b6a3b 100%);
}

/* --------------------------------------------------------------------------
   Animations - Elastic, Physics-Driven
   -------------------------------------------------------------------------- */
@keyframes forstall-bounce {
  0% { transform: scale(1) translateY(0); }
  30% { transform: scale(1.05) translateY(-4px); }
  50% { transform: scale(0.98) translateY(2px); }
  70% { transform: scale(1.02) translateY(-1px); }
  100% { transform: scale(1) translateY(0); }
}

@keyframes forstall-press {
  0% { transform: scale(1); }
  50% { transform: scale(0.95); }
  100% { transform: scale(1); }
}

.forstall-mode .btn:active {
  animation: forstall-press 0.1s ease-out;
}

/* --------------------------------------------------------------------------
   Live Indicator - Glowing Lamp
   -------------------------------------------------------------------------- */
.forstall-mode .live-dot {
  width: 12px;
  height: 12px;
  background: radial-gradient(circle at 30% 30%, #4ade80 0%, #22c55e 50%, #16a34a 100%);
  border-radius: 50%;
  box-shadow:
    inset -1px -1px 2px rgba(0, 0, 0, 0.3),
    inset 1px 1px 2px rgba(255, 255, 255, 0.4),
    0 0 8px rgba(34, 197, 94, 0.6);
  animation: forstall-glow 2s ease-in-out infinite alternate;
}

@keyframes forstall-glow {
  0% { box-shadow: inset -1px -1px 2px rgba(0, 0, 0, 0.3), inset 1px 1px 2px rgba(255, 255, 255, 0.4), 0 0 8px rgba(34, 197, 94, 0.4); }
  100% { box-shadow: inset -1px -1px 2px rgba(0, 0, 0, 0.3), inset 1px 1px 2px rgba(255, 255, 255, 0.4), 0 0 16px rgba(34, 197, 94, 0.8); }
}

/* --------------------------------------------------------------------------
   Verified Badge - Embossed Seal
   -------------------------------------------------------------------------- */
.forstall-mode .text-blue-500 {
  color: #4a6b8a !important;
}

/* --------------------------------------------------------------------------
   Error States - Red Wax Seal
   -------------------------------------------------------------------------- */
.forstall-mode .text-danger,
.forstall-mode .text-red-500 {
  color: #8b2323 !important;
  text-shadow: 0 1px 0 rgba(255, 255, 255, 0.3);
}

.forstall-mode .border-danger,
.forstall-mode .border-red-500 {
  border-color: #8b2323 !important;
  background: linear-gradient(135deg, rgba(139, 35, 35, 0.1) 0%, rgba(139, 35, 35, 0.05) 100%);
}

/* --------------------------------------------------------------------------
   Map Elements - Antique Map Style
   -------------------------------------------------------------------------- */
.forstall-mode .leaflet-container {
  border: 8px solid #8b5a2b;
  box-shadow:
    inset 0 0 20px rgba(0, 0, 0, 0.3),
    0 4px 12px rgba(0, 0, 0, 0.4);
}

/* --------------------------------------------------------------------------
   Overall Warmth Overlay - subtle warm tint
   -------------------------------------------------------------------------- */
.forstall-mode body::after {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(135deg, rgba(255, 248, 230, 0.02) 0%, rgba(255, 220, 180, 0.01) 100%);
  pointer-events: none;
  z-index: 1;
}

/* --------------------------------------------------------------------------
   Utility Overrides
   -------------------------------------------------------------------------- */
/* Main content area background */
.forstall-mode main,
.forstall-mode .min-h-screen {
  background: transparent;
}

.forstall-mode .border-\[var\(--border\)\] {
  border-color: #a08060 !important;
}

.forstall-mode .text-muted,
.forstall-mode .text-faint,
.forstall-mode .text-gray-500,
.forstall-mode .text-gray-600 {
  color: #6b5b4f !important;
}

/* Ensure white/light backgrounds get paper treatment */
.forstall-mode .bg-white:not(.fixed *) {
  background: linear-gradient(180deg, #fdfbf7 0%, #f5f0e6 100%) !important;
}

/* Header text in leather bar */
.forstall-mode header *,
.forstall-mode header a,
.forstall-mode header span,
.forstall-mode header button {
  color: #f5f0e6 !important;
  border-bottom: none !important;
}

/* Ensure buttons in header have proper styling */
.forstall-mode header .btn {
  color: #333 !important;
}

/* Fix icon colors */
.forstall-mode header svg {
  color: #f5f0e6 !important;
}

/* Links should be readable */
.forstall-mode a:not(header a):not(footer a) {
  color: #4a6b8a !important;
  border-bottom: 1px solid rgba(74, 107, 138, 0.4);
}

.forstall-mode a:not(header a):not(footer a):hover {
  color: #2a4b6a !important;
  border-bottom-color: rgba(42, 75, 106, 0.8);
}

/* Default text color for content */
.forstall-mode p,
.forstall-mode span:not(header span):not(.text-xs),
.forstall-mode div:not(header div):not(.fixed div) {
  color: #333;
}

/* Seed/tip type posts - orange accent */
.forstall-mode .bg-orange-50,
.forstall-mode .bg-amber-50 {
  background: linear-gradient(180deg, #fff8f0 0%, #fff0e0 100%) !important;
  border-left: 3px solid var(--bitcoin-gold) !important;
}

/* Green success states */
.forstall-mode .text-green-500,
.forstall-mode .text-green-600 {
  color: #2d5a2d !important;
}

.forstall-mode .bg-green-50,
.forstall-mode .bg-green-100 {
  background: linear-gradient(180deg, #f0fff0 0%, #e0f8e0 100%) !important;
}

/* --------------------------------------------------------------------------
   Additional Text Color Fixes
   -------------------------------------------------------------------------- */
/* Ensure all text in main content is readable */
.forstall-mode main * {
  --text-primary: #333;
  --text-secondary: #6b5b4f;
}

/* Button text - ensure proper contrast */
.forstall-mode button:not(header button) {
  color: #333;
}

.forstall-mode button.bg-\[\#f7931a\],
.forstall-mode button.btn-primary {
  color: #fff !important;
}

/* Labels and small text */
.forstall-mode label {
  color: #4a3728 !important;
}

/* Placeholder text */
.forstall-mode input::placeholder,
.forstall-mode textarea::placeholder {
  color: #9a8a7e !important;
  opacity: 1;
}

/* Badge/pill elements - only text pills, not icons */
.forstall-mode span.rounded-full,
.forstall-mode div.rounded-full:not(:empty) {
  border: 1px solid #c4a882;
}

/* Location name/title in cards */
.forstall-mode .font-semibold,
.forstall-mode .font-bold {
  color: #2d1810;
}

/* Timestamps and metadata */
.forstall-mode time,
.forstall-mode .text-xs.text-gray-500 {
  color: #8a7a6e !important;
}

/* QR code container - ensure white background for scannability */
.forstall-mode .bg-white.p-4,
.forstall-mode [data-qr-container] {
  background: #fff !important;
  border: 4px solid #8b5a2b;
  border-radius: 4px;
  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.1);
}

/* Admin panel specific */
.forstall-mode .space-y-4 > div {
  background: linear-gradient(180deg, #fdfbf7 0%, #f5f0e6 100%);
  border: 1px solid #c4a882;
  border-radius: 4px;
  padding: 16px;
  margin-bottom: 12px;
}

/* Tab content panels */
.forstall-mode [role="tabpanel"] {
  background: linear-gradient(180deg, #f5f0e6 0%, #ebe5d8 100%);
  border: 1px solid #a08060;
  border-top: none;
  padding: 16px;
}

/* Dropdown/select styling */
.forstall-mode select option {
  background: #f5f0e6;
  color: #333;
}

/* --------------------------------------------------------------------------
   Icon Buttons & Action Buttons
   -------------------------------------------------------------------------- */
/* Round icon buttons (post button, close buttons, etc.) */
.forstall-mode button.rounded-full {
  background: var(--brushed-metal) !important;
  border: 1px solid #888 !important;
  box-shadow:
    var(--shadow-emboss),
    0 2px 4px rgba(0, 0, 0, 0.2);
}

.forstall-mode button.rounded-full:hover {
  background: linear-gradient(180deg, #e8e8e8 0%, #d0d0d0 50%, #c0c0c0 100%) !important;
}

/* Bitcoin orange action buttons */
.forstall-mode button.bg-\[\#f7931a\].rounded-full,
.forstall-mode button.rounded-full.bg-\[\#f7931a\] {
  background: linear-gradient(180deg, #ffcc4d 0%, #f7931a 30%, #e07d00 70%, #c66a00 100%) !important;
  border: 1px solid #8b5a00 !important;
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.4),
    inset 0 -1px 0 rgba(0, 0, 0, 0.2),
    0 2px 6px rgba(0, 0, 0, 0.3) !important;
}

.forstall-mode button.bg-\[\#f7931a\].rounded-full svg,
.forstall-mode button.rounded-full.bg-\[\#f7931a\] svg {
  color: #fff !important;
}

/* Close/X buttons in modals */
.forstall-mode button[aria-label="Close"],
.forstall-mode .fixed button.absolute {
  background: linear-gradient(180deg, #c0c0c0 0%, #a0a0a0 100%) !important;
  border: 1px solid #666 !important;
  color: #333 !important;
}

/* Seed/tip button styling */
.forstall-mode .text-\[\#f7931a\] svg {
  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.3));
}

/* --------------------------------------------------------------------------
   Location Type Selector (Admin Panel)
   -------------------------------------------------------------------------- */
.forstall-mode .flex.flex-col.gap-2 label {
  background: linear-gradient(180deg, #f5f0e6 0%, #ebe5d8 100%);
  border: 1px solid #c4a882;
  border-radius: 4px;
  padding: 8px 12px;
  cursor: pointer;
  transition: all 0.15s ease;
}

.forstall-mode .flex.flex-col.gap-2 label:hover {
  background: linear-gradient(180deg, #fff8f0 0%, #f5ebe0 100%);
  border-color: #a08060;
}

.forstall-mode .flex.flex-col.gap-2 label:has(input:checked) {
  background: linear-gradient(180deg, #fff8f0 0%, #ffe8d0 100%);
  border-color: var(--bitcoin-gold);
  box-shadow: 0 0 0 2px rgba(247, 147, 26, 0.2);
}

/* --------------------------------------------------------------------------
   Copy Button Styling
   -------------------------------------------------------------------------- */
.forstall-mode button.btn:has(svg) {
  display: inline-flex;
  align-items: center;
  gap: 4px;
}

/* Tooltip styling */
.forstall-mode [role="tooltip"] {
  background: linear-gradient(180deg, #4a3728 0%, #3d2a1a 100%);
  color: #f5f0e6;
  border: 1px solid #2d1a0a;
  border-radius: 4px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
}
